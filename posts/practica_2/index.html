<!doctype html><html lang=en dir=auto data-theme=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Pr√°ctica 2 | PortafolioPP2025</title><meta name=keywords content><meta name=description content="Bienvenido a la Pr√°ctica 2 ‚å®Ô∏è. Aqu√≠ encontrar√°s las diferentes sesiones üìö."><meta name=author content><link rel=canonical href=https://gaelflores.github.io/posts/practica_2/><link crossorigin=anonymous href=/assets/css/stylesheet.343cc480b9ffc8f04ccbe5e968ad674880cab773ec19905e93033065c1e7a804.css integrity="sha256-NDzEgLn/yPBMy+XpaK1nSIDKt3PsGZBekwMwZcHnqAQ=" rel="preload stylesheet" as=style><link rel=icon href=https://gaelflores.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://gaelflores.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://gaelflores.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://gaelflores.github.io/apple-touch-icon.png><link rel=mask-icon href=https://gaelflores.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate type=application/rss+xml href=https://gaelflores.github.io/posts/practica_2/index.xml title=rss><link rel=alternate hreflang=en href=https://gaelflores.github.io/posts/practica_2/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51);color-scheme:dark}.list{background:var(--theme)}.toc{background:var(--entry)}}@media(prefers-color-scheme:light){.list::-webkit-scrollbar-thumb{border-color:var(--code-bg)}}</style></noscript><script>localStorage.getItem("pref-theme")==="dark"?document.querySelector("html").dataset.theme="dark":localStorage.getItem("pref-theme")==="light"?document.querySelector("html").dataset.theme="light":window.matchMedia("(prefers-color-scheme: dark)").matches?document.querySelector("html").dataset.theme="dark":document.querySelector("html").dataset.theme="light"</script><meta property="og:url" content="https://gaelflores.github.io/posts/practica_2/"><meta property="og:site_name" content="PortafolioPP2025"><meta property="og:title" content="Pr√°ctica 2"><meta property="og:description" content="Bienvenido a la Pr√°ctica 2 ‚å®Ô∏è. Aqu√≠ encontrar√°s las diferentes sesiones üìö."><meta property="og:locale" content="en-us"><meta property="og:type" content="website"><meta name=twitter:card content="summary"><meta name=twitter:title content="Pr√°ctica 2"><meta name=twitter:description content><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://gaelflores.github.io/posts/"},{"@type":"ListItem","position":2,"name":"Pr√°ctica 2","item":"https://gaelflores.github.io/posts/practica_2/"}]}</script></head><body class=list id=top><header class=header><nav class=nav><div class=logo><a href=https://gaelflores.github.io/ accesskey=h title="PortafolioPP2025 (Alt + H)">PortafolioPP2025</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu></ul></nav></header><main class=main><header class=page-header><h1>Pr√°ctica 2</h1></header><div class=post-content><p>Bienvenido a la Pr√°ctica 2 ‚å®Ô∏è. Aqu√≠ encontrar√°s las diferentes sesiones üìö.</p></div><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Pr√°ctica 2: Migraci√≥n de Biblioteca (C ‚Üí Python OOP)</h2></header><div class=entry-content><p>Reporte de Practica: Migraci√≥n de Biblioteca de C a Python (POO) Objetivo Migrar el programa de Biblioteca originalmente escrito en C (con estructuras) hacia una versi√≥n en Python usando Programaci√≥n Orientada a Objetos (POO). Implementar clases para Biblioteca, Usuarios e √çtems (libros, revistas) e incluir herencia, encapsulamiento, abstracci√≥n y polimorfismo. Adem√°s implementar persistencia sencilla (JSON), b√∫squedas, pr√©stamos y devoluciones.
1. Dise√±o orientado a objetos (resumen) Se definieron las siguientes clases:
...</p></div><footer class=entry-footer><span title='2025-11-14 00:00:00 +0000 UTC'>November 14, 2025</span></footer><a class=entry-link aria-label="post link to Pr√°ctica 2: Migraci√≥n de Biblioteca (C ‚Üí Python OOP)" href=https://gaelflores.github.io/posts/practica_2/reporte/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Pr√°ctica 2: Programaci√≥n Orientada a Objetos</h2></header><div class=entry-content><p>Codigo Migrado en python(POO) Guarda este archivo en la ra√≠z del proyecto o en una carpeta biblioteca_python/. Es autocontenido y usa JSON (data.json) para persistencia.
#!/usr/bin/env python3 # biblioteca_poo.py # Implementaci√≥n POO de una Biblioteca (pr√©stamos, usuarios, √≠tems) con persistencia JSON # Requisitos: Python 3.7+ import json from datetime import datetime from typing import List, Dict, Optional from abc import ABC, abstractmethod import os DATA_FILE = "biblioteca_data.json" # ------------------------- # Modelos (POO) # ------------------------- class Item(ABC): """Clase abstracta para √≠tems de la biblioteca.""" def __init__(self, item_id: str, title: str, year: int): self._id = item_id # encapsulado (protected) self.title = title self.year = year self.available = True self.borrower_id: Optional[str] = None self.borrow_date: Optional[str] = None @property def id(self): return self._id @abstractmethod def item_type(self) -> str: pass def to_dict(self) -> Dict: return { "id": self._id, "title": self.title, "year": self.year, "type": self.item_type(), "available": self.available, "borrower_id": self.borrower_id, "borrow_date": self.borrow_date } def borrow(self, user_id: str) -> bool: if not self.available: return False self.available = False self.borrower_id = user_id self.borrow_date = datetime.utcnow().isoformat() return True def give_back(self) -> bool: if self.available: return False self.available = True self.borrower_id = None self.borrow_date = None return True class Book(Item): def __init__(self, item_id: str, title: str, author: str, year: int, isbn: Optional[str] = None): super().__init__(item_id, title, year) self.author = author self.isbn = isbn def item_type(self) -> str: return "book" def to_dict(self) -> Dict: d = super().to_dict() d.update({"author": self.author, "isbn": self.isbn}) return d class Magazine(Item): def __init__(self, item_id: str, title: str, issue: str, year: int): super().__init__(item_id, title, year) self.issue = issue def item_type(self) -> str: return "magazine" def to_dict(self) -> Dict: d = super().to_dict() d.update({"issue": self.issue}) return d class User: def __init__(self, user_id: str, name: str, email: Optional[str] = None): self._id = user_id # encapsulaci√≥n self.name = name self.email = email self.borrowed_items: List[str] = [] # lista de ids @property def id(self): return self._id def to_dict(self) -> Dict: return { "id": self._id, "name": self.name, "email": self.email, "borrowed_items": self.borrowed_items } # ------------------------- # Biblioteca (gestor) # ------------------------- class Library: def __init__(self): self.items: Dict[str, Item] = {} self.users: Dict[str, User] = {} self.load() # --- CRUD / operaciones --- def add_user(self, user: User) -> None: if user.id in self.users: raise ValueError("Usuario ya existe") self.users[user.id] = user self.save() def add_item(self, item: Item) -> None: if item.id in self.items: raise ValueError("√çtem ya existe") self.items[item.id] = item self.save() def find_items(self, query: str) -> List[Item]: q = query.lower() results = [] for it in self.items.values(): if q in it.title.lower() or q in it.item_type().lower(): results.append(it) else: # campos espec√≠ficos if isinstance(it, Book) and (q in it.author.lower() if it.author else False): results.append(it) return results def find_users(self, query: str) -> List[User]: q = query.lower() return [u for u in self.users.values() if q in u.name.lower() or q in (u.email or "").lower() or q == u.id.lower()] def borrow_item(self, item_id: str, user_id: str) -> bool: if item_id not in self.items: raise ValueError("√çtem no encontrado") if user_id not in self.users: raise ValueError("Usuario no encontrado") item = self.items[item_id] user = self.users[user_id] if not item.available: return False ok = item.borrow(user_id) if ok: user.borrowed_items.append(item_id) self.save() return ok def return_item(self, item_id: str, user_id: str) -> bool: if item_id not in self.items: raise ValueError("√çtem no encontrado") if user_id not in self.users: raise ValueError("Usuario no encontrado") item = self.items[item_id] user = self.users[user_id] if item.available or item.borrower_id != user_id: return False ok = item.give_back() if ok: if item_id in user.borrowed_items: user.borrowed_items.remove(item_id) self.save() return ok # --- persistencia --- def save(self) -> None: payload = { "items": {iid: it.to_dict() for iid, it in self.items.items()}, "users": {uid: u.to_dict() for uid, u in self.users.items()} } with open(DATA_FILE, "w", encoding="utf-8") as f: json.dump(payload, f, indent=2, ensure_ascii=False) def load(self) -> None: if not os.path.exists(DATA_FILE): return with open(DATA_FILE, "r", encoding="utf-8") as f: payload = json.load(f) # Cargar users self.users = {} for uid, ud in payload.get("users", {}).items(): u = User(uid, ud.get("name", ""), ud.get("email")) u.borrowed_items = ud.get("borrowed_items", []) self.users[uid] = u # Cargar items (reconstruir tipo concreto) self.items = {} for iid, idata in payload.get("items", {}).items(): t = idata.get("type") if t == "book": it = Book(iid, idata.get("title", ""), idata.get("author", ""), idata.get("year", 0), idata.get("isbn")) elif t == "magazine": it = Magazine(iid, idata.get("title", ""), idata.get("issue", ""), idata.get("year", 0)) else: # gen√©rico fallback class GenericItem(Item): def item_type(self): return "generic" it = GenericItem(iid, idata.get("title", ""), idata.get("year", 0)) it.available = idata.get("available", True) it.borrower_id = idata.get("borrower_id") it.borrow_date = idata.get("borrow_date") self.items[iid] = it # Utility def list_items(self) -> List[Dict]: return [it.to_dict() for it in self.items.values()] def list_users(self) -> List[Dict]: return [u.to_dict() for u in self.users.values()] # ------------------------- # Interfaz de consola (men√∫) # ------------------------- def input_nonempty(prompt: str) -> str: while True: v = input(prompt).strip() if v: return v def main_menu(lib: Library): while True: print("\n=== Biblioteca POO ===") print("1) Registrar usuario") print("2) Registrar √≠tem (libro/revista)") print("3) Buscar √≠tems") print("4) Buscar usuarios") print("5) Prestar √≠tem") print("6) Devolver √≠tem") print("7) Listar √≠tems") print("8) Listar usuarios") print("9) Salir") choice = input("Opci√≥n: ").strip() try: if choice == "1": uid = input_nonempty("ID usuario: ") name = input_nonempty("Nombre: ") email = input("Email (opcional): ").strip() or None lib.add_user(User(uid, name, email)) print("Usuario registrado.") elif choice == "2": itype = input("Tipo (book/magazine): ").strip().lower() iid = input_nonempty("ID √≠tem: ") title = input_nonempty("T√≠tulo: ") year = int(input("A√±o: ").strip() or 0) if itype == "book": author = input_nonempty("Autor: ") isbn = input("ISBN (opcional): ").strip() or None lib.add_item(Book(iid, title, author, year, isbn)) else: issue = input("N√∫mero/Edici√≥n: ").strip() or "n/a" lib.add_item(Magazine(iid, title, issue, year)) print("√çtem registrado.") elif choice == "3": q = input_nonempty("Buscar (t√≠tulo/autor/tipo): ") res = lib.find_items(q) if not res: print("No hay resultados.") else: for it in res: print(json.dumps(it.to_dict(), ensure_ascii=False, indent=2)) elif choice == "4": q = input_nonempty("Buscar usuario (nombre/id/email): ") res = lib.find_users(q) if not res: print("No hay resultados.") else: for u in res: print(json.dumps(u.to_dict(), ensure_ascii=False, indent=2)) elif choice == "5": iid = input_nonempty("ID √≠tem a prestar: ") uid = input_nonempty("ID usuario: ") ok = lib.borrow_item(iid, uid) if ok: print("Pr√©stamo realizado.") else: print("No fue posible prestar (puede que no est√© disponible).") elif choice == "6": iid = input_nonempty("ID √≠tem a devolver: ") uid = input_nonempty("ID usuario que devuelve: ") ok = lib.return_item(iid, uid) if ok: print("Devoluci√≥n registrada.") else: print("No se pudo procesar la devoluci√≥n.") elif choice == "7": for it in lib.list_items(): print(json.dumps(it, ensure_ascii=False, indent=2)) elif choice == "8": for u in lib.list_users(): print(json.dumps(u, ensure_ascii=False, indent=2)) elif choice == "9": print("Saliendo.") break else: print("Opci√≥n inv√°lida.") except Exception as e: print("Error:", e) if __name__ == "__main__": library = Library() print("Datos cargados. √çtems:", len(library.items), " Usuarios:", len(library.users)) main_menu(library) Qu√© hace (resumen):
...</p></div><footer class=entry-footer><span title='2025-11-14 00:00:00 +0000 UTC'>November 14, 2025</span></footer><a class=entry-link aria-label="post link to Pr√°ctica 2: Programaci√≥n Orientada a Objetos" href=https://gaelflores.github.io/posts/practica_2/codigo_python_poo/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Pr√°ctica 2: Programaci√≥n Orientada a Objetos</h2></header><div class=entry-content><p>Dise√±o de clases (UML textual + explicaci√≥n) Library - items: Dict[str, Item] - users: Dict[str, User] + add_user(user) + add_item(item) + find_items(query) -> List[Item] + find_users(query) -> List[User] + borrow_item(item_id, user_id) -> bool + return_item(item_id, user_id) -> bool + save(), load() Item (abstract) - _id: str - title: str - year: int - available: bool - borrower_id: Optional[str] - borrow_date: Optional[str] + item_type() -> str (abstract) + borrow(user_id) -> bool + give_back() -> bool + to_dict() -> Dict Book (Item) - author: str - isbn: Optional[str] Magazine (Item) - issue: str User - _id: str - name: str - email: Optional[str] - borrowed_items: List[str] Relaciones:
...</p></div><footer class=entry-footer><span title='2025-11-14 00:00:00 +0000 UTC'>November 14, 2025</span></footer><a class=entry-link aria-label="post link to Pr√°ctica 2: Programaci√≥n Orientada a Objetos" href=https://gaelflores.github.io/posts/practica_2/dise%C3%B1o_de_clases/></a></article></main><footer class=footer><span>&copy; 2025 <a href=https://gaelflores.github.io/>PortafolioPP2025</a></span> ¬∑
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");if(menu){const e=localStorage.getItem("menu-scroll-position");e&&(menu.scrollLeft=parseInt(e,10)),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}}document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{const e=document.querySelector("html");e.dataset.theme==="dark"?(e.dataset.theme="light",localStorage.setItem("pref-theme","light")):(e.dataset.theme="dark",localStorage.setItem("pref-theme","dark"))})</script></body></html>